# ì‹ ì°¨ DB SQL ë³€í™˜ ë„êµ¬

Excel íŒŒì¼(`nice_db_20250424.xlsx`)ì„ ìœ„ì¹´ì˜¥ì…˜ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” êµ¬ì¡°ì— ë§ëŠ” SQL INSERT ë¬¸ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

## ğŸ“Š ë³€í™˜ ê²°ê³¼

| í…Œì´ë¸” | ë ˆì½”ë“œ ìˆ˜ | íŒŒì¼ëª… | ì„¤ëª… |
|--------|----------|---------|------|
| car_makers | 91ê°œ | `car_makers_insert.sql` | ì œì¡°ì‚¬ ì •ë³´ |
| car_models | 942ê°œ | `car_models_insert.sql` | ëŒ€í‘œ ëª¨ë¸ ì •ë³´ |
| car_details | 1,813ê°œ | `car_details_insert.sql` | ì„¸ë¶€ ëª¨ë¸ ì •ë³´ |
| car_bps | 8,071ê°œ | `car_bps_insert.sql` | ì œì› ì •ë³´ |
| car_grades | 25,288ê°œ | `car_grades_insert.sql` | ë“±ê¸‰ ì •ë³´ |

**ì´ 35,205ê°œì˜ INSERT ë¬¸ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.**

## ğŸ“‹ í…Œì´ë¸” êµ¬ì¡° ë§¤í•‘

### car_makers (ì œì¡°ì‚¬)
- `id` â† ì œì¡°ì‚¬ì½”ë“œ
- `name` â† ì œì¡°ì‚¬ëª…  
- `name_en` â† ì œì¡°ì‚¬ì˜ë¬¸ëª…
- `country` â† ì œì¡°êµ­ê°€
- `import_yn` â† êµ­ì‚°/ìˆ˜ì…êµ¬ë¶„
- `logo_url` â† ì´ë¯¸ì§€URL

### car_models (ëŒ€í‘œ ëª¨ë¸)
- `id` â† ëŒ€í‘œëª¨ë¸ì½”ë“œ
- `name` â† ëŒ€í‘œëª¨ë¸ëª…
- `maker_id` â† ì œì¡°ì‚¬ì½”ë“œ (FK)

### car_details (ì„¸ë¶€ ëª¨ë¸)
- `id` â† ëª¨ë¸ëª…ì½”ë“œ
- `name` â† ëª¨ë¸ëª…
- `model_id` â† ëŒ€í‘œëª¨ë¸ì½”ë“œ (FK)
- `short_name` â† ì§§ì€ëª¨ë¸ëª…
- `generation_name` â† ì„¸ëŒ€ì½”ë“œ
- `start_date` â† ëª¨ë¸ì¶œì‹œì¼
- `end_date` â† ëª¨ë¸ë‹¨ì¢…ì¼
- `image_url` â† ì´ë¯¸ì§€URL

### car_bps (ì œì›)
- `id` â† ì œì›ì½”ë“œ
- `name` â† ì œì›ëª…
- `detail_id` â† ëª¨ë¸ëª…ì½”ë“œ (FK)

### car_grades (ë“±ê¸‰)
- `id` â† ë“±ê¸‰ID
- `name` â† ë“±ê¸‰ëª…
- `bp_id` â† ì œì›ì½”ë“œ (FK)
- ê¸°íƒ€ ìƒì„¸ ì •ë³´ í¬í•¨

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1. Laravel Seeder ì‚¬ìš© (ê¶Œì¥)
```bash
# ì°¨ëŸ‰ DBë§Œ ë‹¨ë… ì‹¤í–‰
./vendor/bin/sail artisan db:seed --class=CarOnlySeeder

# ì „ì²´ ì‹œë“œ ì‹¤í–‰ (í™˜ê²½ë³„ ìë™ íŒë‹¨)
./vendor/bin/sail artisan db:seed

# í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ê°•ì œ ì‹¤í–‰
./vendor/bin/sail artisan db:seed --force
```

### 2. ê°œë³„ í…Œì´ë¸” ì‹¤í–‰ (SQL ì§ì ‘)
```sql
-- ì œì¡°ì‚¬ë§Œ ì‚½ì…
SOURCE car_makers_insert.sql;

-- ëª¨ë¸ë§Œ ì‚½ì…  
SOURCE car_models_insert.sql;
```

### 3. ì „ì²´ í…Œì´ë¸” ì¼ê´„ ì‹¤í–‰ (SQL ì§ì ‘)
```sql
-- FK ì˜ì¡´ì„± ìˆœì„œë¡œ ëª¨ë“  í…Œì´ë¸” ì‹¤í–‰
SOURCE execute_all_car_inserts.sql;
```

### 4. MySQL ì§ì ‘ ì‹¤í–‰
```bash
# MySQL ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰
./vendor/bin/sail mysql < _nicedb/execute_all_car_inserts.sql
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

### ì‹¤í–‰ ìˆœì„œ
ì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ìœ¼ë¡œ ì¸í•´ **ë°˜ë“œì‹œ ë‹¤ìŒ ìˆœì„œ**ë¡œ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤:
1. car_makers (ì œì¡°ì‚¬)
2. car_models (ëŒ€í‘œ ëª¨ë¸)  
3. car_details (ì„¸ë¶€ ëª¨ë¸)
4. car_bps (ì œì›)
5. car_grades (ë“±ê¸‰)

### ë°ì´í„° ê²€ì¦
- í—¤ë” í–‰(`makerId` ë“±)ì€ ìë™ìœ¼ë¡œ ì œê±°ë¨
- NULL ê°’ì€ ì ì ˆíˆ ì²˜ë¦¬ë¨
- ìˆ«ìí˜• IDëŠ” ìœ íš¨ì„± ê²€ì‚¬ í›„ ì‚½ì…
- ë¬¸ìì—´ì˜ ë”°ì˜´í‘œëŠ” ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬ë¨

### ì¤‘ë³µ ë°ì´í„°
- ê° í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ ê¸°ì¤€ìœ¼ë¡œ ì¤‘ë³µ ì œê±° ì™„ë£Œ
- ë™ì¼í•œ IDë¡œ ì¬ì‹¤í–‰ ì‹œ PRIMARY KEY ì˜¤ë¥˜ ë°œìƒ ê°€ëŠ¥

## ğŸ› ï¸ ê°œë°œ ë„êµ¬

### Laravel Seeder
- `Common/CarDatabaseSeeder.php`: ì°¨ëŸ‰ DB ì „ìš© ì‹œë”
- `CarOnlySeeder.php`: ì°¨ëŸ‰ DBë§Œ ë‹¨ë… ì‹¤í–‰í•˜ëŠ” ì‹œë”
- `DatabaseSeeder.php`: í™˜ê²½ë³„ ì‹œë” (ì°¨ëŸ‰ DB í¬í•¨)

### íŒŒì´ì¬ ìŠ¤í¬ë¦½íŠ¸
- `excel_to_sql_converter.py`: car_makers í…Œì´ë¸”ë§Œ ìƒì„±
- `comprehensive_car_db_converter.py`: ëª¨ë“  í…Œì´ë¸” ìƒì„±

### ì‹¤í–‰ í™˜ê²½
```bash
# ê°€ìƒí™˜ê²½ ì„¤ì •
python3 -m venv venv
source venv/bin/activate
pip install pandas openpyxl

# ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
python comprehensive_car_db_converter.py
```

## ğŸ“ˆ ë°ì´í„° í†µê³„

### ì œì¡°ì‚¬ë³„ ë¶„í¬
- êµ­ì‚°: ì•½ 30ê°œ ì œì¡°ì‚¬
- ìˆ˜ì…: ì•½ 61ê°œ ì œì¡°ì‚¬

### ì°¨ì¢…ë³„ ë¶„í¬  
- ìŠ¹ìš©ì°¨, SUV, íŠ¸ëŸ­, ë²„ìŠ¤ ë“± ë‹¤ì–‘í•œ ì°¨ì¢… í¬í•¨
- ì „ê¸°ì°¨, í•˜ì´ë¸Œë¦¬ë“œ í¬í•¨

### ê°€ê²©ëŒ€ë³„ ë¶„í¬
- ì‹ ì°¨ ê°€ê²©: 1,000ë§Œì› ~ 5ì–µì›ëŒ€
- ë‹¤ì–‘í•œ ë“±ê¸‰ë³„ ì„¸ë¶„í™”

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ì¸ì½”ë”© ì˜¤ë¥˜
- ëª¨ë“  íŒŒì¼ì€ UTF-8ë¡œ ì €ì¥ë¨
- MySQLì—ì„œ `charset utf8mb4` ì‚¬ìš© ê¶Œì¥

### ë©”ëª¨ë¦¬ ë¶€ì¡±
- car_grades í…Œì´ë¸”ì´ ê°€ì¥ í¼ (25,288ê°œ ë ˆì½”ë“œ)
- í•„ìš”ì‹œ ë°°ì¹˜ ë‹¨ìœ„ë¡œ ë¶„í•  ì‹¤í–‰

### FK ì œì•½ì¡°ê±´ ì˜¤ë¥˜
- ì‹¤í–‰ ìˆœì„œ í™•ì¸
- ì°¸ì¡°í•˜ëŠ” ìƒìœ„ í…Œì´ë¸” ë°ì´í„° ì¡´ì¬ ì—¬ë¶€ í™•ì¸

---

## ğŸ“ ìƒì„± ì •ë³´
- **ìƒì„±ì¼**: 2025-08-05 16:26:10
- **ì›ë³¸ íŒŒì¼**: nice_db_20250424.xlsx (25,289í–‰)
- **ë„êµ¬**: Python pandas + openpyxl
- **í…Œì´ë¸”**: Laravel Migration ê¸°ì¤€