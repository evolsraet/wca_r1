# 2025 위카옥션 v2 똥치우기 작업 가이드

## 🚨 프로젝트 상황
- **전 개발자 퇴사** (인수인계 없음)
- **문서화 부족** - 코드로만 파악 가능
- **보안 취약점 다수** - 즉시 수정 필요
- **핵심 기능 작동** - API 기본 동작 확인됨
- **마감 임박** - 효율적 작업 필수

## 작업가이드

- 삭제 할 것들 : 주석으로  "DELME: 추가설명..." 으로 추후에 삭제해야할 쓰레기 코드 표시
- 추후에 할일들 : 주석으로  "TODO: 추가설명..." 으로 추후에 작업해야할 일 들 표시

## 명령어

- 서버가동 : sail up -d && sail npm run dev
- 테스트코드 실행 : sail test
- 서버다운 : sail down

## 주소

- 텔레스코프 : /telescope
- API 문서 : /api-docs

## 👥 팀 구성 (메인개발자 + 새로운 경력사원)

### 🎯 메인개발자 (팀장)
**담당**: 보안 수정 + 핵심 비즈니스 로직

### 🧪 서브개발자 (새로운 경력사원)
**담당**: 테스트 자동화 + 보조 모듈 개발
- **즉시 작업**: 수동 테스트로 핵심 플로우 검증
- **병행 작업**: Playwright + AI 도구 활용한 E2E 테스트 구축
- **도구**: Playwright, PEST, AI 테스트 생성 도구

## 📋 업무 프로세스 가이드

### 🔄 일일 워크플로우 (새로운 경력사원용)

#### 오전 (09:00-12:00)
1. **데일리 체크인** (팀장과 15분)
   - 어제 진행상황 공유
   - 오늘 목표 설정
   - 블로커 사전 확인

2. **수동 테스트 실행**
   ```bash
   # 환경 시작
   ./vendor/bin/sail up -d
   
   # 기본 플로우 테스트
   - 회원가입 (일반/딜러)
   - 로그인/로그아웃
   - 경매 등록 → 입찰 → 낙찰
   - 결제 프로세스
   ```

3. **발견된 이슈 기록**
   - 재현 단계 상세 기록
   - 팀장에게 즉시 공유

#### 오후 (13:00-18:00)
1. **자동화 테스트 구축**
   ```bash
   # Playwright 설치
   npx playwright install
   
   # 의사코드 작성 → AI 변환
   # Page Object Model 패턴 적용
   ```

2. **PEST 테스트 코드 작성**
   ```php
   // 핵심 기능별 테스트 케이스 작성
   // 보안 테스트 (Mass Assignment 등)
   // API 엔드포인트 테스트
   ```

## 🛠️ 실무 가이드 (새로운 경력사원용)

### 📁 프로젝트 구조 파악
```
중요 파일 위치:
- 전체 기능 맵: ALL_FUNC_250704.md
- 설정 가이드 참고 (AI 작성): CLAUDE.md
- 라우트: routes/web.php, routes/api.php
- 컨트롤러: app/Http/Controllers/
- 모델: app/Models/
- 서비스: app/Services/
- 리소스: app/Resources/ - 모든 api 응답은 리소스레이어
- 뷰: resources/views/v2/
- asset: resources/v2/
```

### 🔍 테스트 시나리오 작성법
```markdown
## 테스트 시나리오 템플릿

### 시나리오: [기능명]
**사전 조건**: 
- 사용자 상태: [로그인/비로그인]
- 데이터 준비: [필요한 데이터]

**실행 단계**:
1. [페이지 접속]
2. [필드 입력]
3. [버튼 클릭]
4. [결과 확인]

**예상 결과**:
- 성공: [정상 처리 결과]
- 실패: [에러 메시지/처리]

**실제 결과**: [테스트 수행 후 기록]
```

### 🤖 AI 도구 활용법
```bash
# 1. Playwright Codegen으로 기본 코드 생성
npx playwright codegen http://localhost/v2/login

# 2. 생성된 코드를 의사코드로 변환
# 3. AI에게 아래 프롬프트로 개선 요청:

"다음 Playwright 코드를 개선해주세요:
- Page Object Model 패턴 적용
- 에러 핸들링 추가  
- 재사용 가능한 헬퍼 함수 분리
- assertion 강화"
```

## ⚠️ 주의사항 (새로운 경력사원용)

### 🚫 하지 말아야 할 것들
- **보안 관련 코드 수정** - 메인개발자와 반드시 상의
- **외부 API 키 노출** - .env 파일 절대 커밋 금지
- **대량 데이터 생성** - 테스트 후 반드시 정리

### ✅ 반드시 해야 할 것들
- **매일 진행상황 공유** - 유트랙 일일 리포트
- **이슈 발견 시 즉시 보고** - 스크린샷과 재현 단계 포함
- **테스트 코드 작성** - 수동 테스트를 자동화로 전환
- **코드 커밋 전 검토** - 메인개발자 리뷰 후 푸시

## 📞 소통 가이드

### 🗓️ 정기 미팅
- **일일 스탠드업**: 매일 09:00 (15분)
- **주간 회고**: 매주 금요일 17:00 (30분)
- **긴급 이슈**: 즉시 소통

### 💬 보고 양식
```markdown
## 일일 진행상황 보고

**오늘 완료한 작업**:
- [구체적인 작업 내용]

**발견한 이슈**:
- [이슈 설명 + 스크린샷]

**내일 계획**:
- [예정 작업]

**도움 필요한 부분**:
- [질문사항 또는 블로커]
```

## 🎯 성공 지표

### 1주일 목표 체크리스트
**보안 (메인개발자)**
- [ ] Mass Assignment 취약점 수정
- [ ] API 키 노출 문제 해결
- [ ] XSS 취약점 수정
- [ ] 하드코딩 값 환경변수 전환

**테스트 (서브개발자)**
- [ ] 핵심 플로우 수동 테스트 완료
- [ ] Playwright E2E 테스트 10개 작성
- [ ] PEST 단위 테스트 30개 작성
- [ ] 보안 테스트 케이스 5개 작성

**공통**
- [ ] 배포 가능한 상태 달성
- [ ] 회귀 테스트 방지 시스템 구축

## 📚 학습 자료

### 필수 문서
1. `ALL_FUNC_250704.md` - 기능 명세서
2. `CLAUDE.md` - 개발 환경 가이드  
3. Laravel 10 공식 문서
4. Playwright / PEST 공식 가이드

### 추천 순서 (새로운 경력사원)
1. **1일차**: 프로젝트 구조 파악 + 수동 테스트
2. **2일차**: Laravel Sail 환경 숙지 + 기본 PEST 테스트
3. **3일차**: Playwright 기초 + 의사코드 작성
4. **4일차**: AI 도구 활용 + Page Object Model
5. **5일차**: 보안 테스트 케이스 작성
6. **6일차**: 성능 테스트 + 통합 테스트
7. **7일차**: 배포 준비 + 문서화

---

> **💡 핵심 원칙**: "완벽한 코드보다 안정적인 서비스"  
> 마감이 임박한 상황에서는 **보안 수정 → 핵심 기능 안정화 → 테스트 자동화** 순으로 우선순위를 두고 진행하세요.